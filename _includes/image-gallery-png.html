<style>
  .image-gallery {
    overflow: auto;
    margin-bottom: 1rem;
    margin-top: 0.5rem;
    columns: 4; 
    column-gap: 0.2rem;   
    }
  .image-gallery a {
    display: block;
    margin: 0;
    padding: 0 0 0.2rem 0;
  }
  .image-gallery a span {font-size: 0.8rem; display: block; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 3px 0;}
  .image-gallery a img {
    width: 100%; display: block;
    margin: 0;
    }
</style>

<div class="image-gallery">
{% for file in site.static_files %}
  {% if file.path contains include.folder %}
    {% if file.extname == '.jpg' or 
      file.extname == '.jpeg' or 
      file.extname == '.JPG' or 
      file.extname == '.JPEG' %}

      {% assign filenameparts = file.path | split: "/" %}
      {% assign filename = filenameparts | last | replace: file.extname,"" %}
      {% assign thumbpath = file.path | replace: file.extname,".png" %}
      
      <a href="{{ file.path }}" title="{{ filename }}">
        <img src="{{ thumbpath }}" alt="" />      
      </a>
    {% endif %}
  {% endif %}
{% endfor %}
</div>
